<ion-tabs>
  <ion-tab-bar slot="bottom" role="tablist" aria-label="Main navigation">
    <ion-tab-button tab="add" aria-label="Add new game">
      <ion-icon aria-hidden="true" name="add"></ion-icon>
      <ion-label>New</ion-label>
    </ion-tab-button>

    <ion-tab-button tab="stats" aria-label="View statistics">
      <ion-icon aria-hidden="true" name="stats-chart-outline"></ion-icon>
      <ion-label>Stats</ion-label>
    </ion-tab-button>

    <ion-tab-button tab="history" aria-label="View game history">
      <ion-icon aria-hidden="true" name="receipt"></ion-icon>
      <ion-label>History</ion-label>
    </ion-tab-button>

    <ion-tab-button tab="league" aria-label="View leagues and tournaments">
      <ion-icon aria-hidden="true" name="medal-outline"></ion-icon>
      <ion-label>Leagues</ion-label>
    </ion-tab-button>

    <ion-tab-button [class.active-tab]="activeMoreTab$ | async" id="more" aria-label="More options and tools" aria-expanded="false" aria-haspopup="dialog">
      <ion-icon aria-hidden="true" name="ellipsis-horizontal"></ion-icon>
      <ion-label>More</ion-label>
    </ion-tab-button>
  </ion-tab-bar>
</ion-tabs>

<ion-modal #modal trigger="more" [initialBreakpoint]="0.45" [breakpoints]="[0, 0.35, 0.45, 0.5, 0.75]" aria-labelledby="more-options-title">
  <ng-template>
    <ion-content>
      <ion-list>
        <ion-item role="presentation">
          <ion-label>
            <h2 id="more-options-title">More Options</h2>
          </ion-label>
        </ion-item>
        <ion-item class="tab-btn" button [routerLink]="'/tabs/arsenal'" [class.active-tab]="isActive('/tabs/arsenal')" (click)="modal.dismiss()" 
                  aria-label="Navigate to Arsenal - View your bowling ball collection">
          <ion-icon src="assets/svg/ball-bag-svgrepo-com.svg" slot="start" aria-hidden="true"></ion-icon>
          <ion-label>Arsenal</ion-label>
        </ion-item>
        <ion-item class="tab-btn" button [routerLink]="'/tabs/balls'" [class.active-tab]="isActive('/tabs/balls')" (click)="modal.dismiss()"
                  aria-label="Navigate to Ball Library - Browse all bowling balls">
          <ion-icon name="bowling-ball-outline" slot="start" aria-hidden="true"></ion-icon>
          <ion-label>Ball Library</ion-label>
        </ion-item>
        <ion-item class="tab-btn" button [routerLink]="'/tabs/pattern'" [class.active-tab]="isActive('/tabs/pattern')" (click)="modal.dismiss()"
                  aria-label="Navigate to Pattern Library - Browse oil patterns">
          <ion-icon src="assets/svg/lane.svg" slot="start" aria-hidden="true"></ion-icon>
          <ion-label>Pattern Library</ion-label>
        </ion-item>
        <ion-item class="tab-btn" button [routerLink]="'/tabs/map'" [class.active-tab]="isActive('/tabs/map')" (click)="modal.dismiss()"
                  aria-label="Navigate to Map - Find bowling alleys near you">
          <ion-icon name="map-outline" slot="start" aria-hidden="true"></ion-icon>
          <ion-label>Map</ion-label>
        </ion-item>
        <ion-item class="tab-btn" button [routerLink]="'/tabs/minigame'" [class.active-tab]="isActive('/tabs/minigame')" (click)="modal.dismiss()"
                  aria-label="Navigate to Minigame - Play bowling mini games">
          <ion-icon name="game-controller-outline" slot="start" aria-hidden="true"></ion-icon>
          <ion-label>Minigame</ion-label>
        </ion-item>
        <ion-item class="tab-btn" button [routerLink]="'/tabs/settings'" [class.active-tab]="isActive('/tabs/settings')" (click)="modal.dismiss()"
                  aria-label="Navigate to Settings - Configure app preferences">
          <ion-icon name="settings-outline" slot="start" aria-hidden="true"></ion-icon>
          <ion-label>Settings</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal>
