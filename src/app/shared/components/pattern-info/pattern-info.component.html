<div class="pattern-container">
  <img [src]="pattern().chartImageSrcHorizontal" style="width: 50%; height: auto; border-radius: 16px"
    alt="Pattern image" />
  <div class="pattern-info">
    <ion-chip>Distance: {{ pattern().distance }}ft</ion-chip>
    <ion-chip>Volume: {{ pattern().volume }}mL</ion-chip>
    <ion-chip>Ratio: {{ pattern().ratio }}</ion-chip>
    <ion-chip>{{ getLength() }} Length</ion-chip>
    <ion-chip>{{ getVolume() }} Volume</ion-chip>
    <ion-chip>{{ getDifficulty() }} Difficulty</ion-chip>
  </div>
</div>

<!-- Play Recommendations Section -->
<ion-list class="recommendations-section">
  <ion-list-header>
    <ion-label>
      <h2>Play Recommendations</h2>
    </ion-label>
  </ion-list-header>
  
  <ion-item>
    <ion-icon name="basketball-outline" slot="start" color="primary"></ion-icon>
    <ion-label class="ion-text-wrap">
      <h3>Ball Selection</h3>
      <p>{{ recommendations().ballSelection }}</p>
    </ion-label>
  </ion-item>

  <ion-item>
    <ion-icon name="list-outline" slot="start" color="primary"></ion-icon>
    <ion-label class="ion-text-wrap">
      <h3>Specific Ball Recommendations</h3>
      <div class="ball-recommendations">
        @for (ball of recommendations().specificBallRecommendations; track ball) {
          <p class="ball-item">• {{ ball }}</p>
        }
      </div>
    </ion-label>
  </ion-item>

  <ion-item>
    <ion-icon name="location-outline" slot="start" color="secondary"></ion-icon>
    <ion-label class="ion-text-wrap">
      <h3>Targeting Strategy</h3>
      <p>{{ recommendations().targetingStrategy }}</p>
    </ion-label>
  </ion-item>

  <ion-item>
    <ion-icon name="navigate-outline" slot="start" color="secondary"></ion-icon>
    <ion-label class="ion-text-wrap">
      <h3>Arrow Targeting</h3>
      <p>{{ recommendations().arrowTargeting }}</p>
    </ion-label>
  </ion-item>

  <ion-item>
    <ion-icon name="flag-outline" slot="start" color="tertiary"></ion-icon>
    <ion-label class="ion-text-wrap">
      <h3>Breakpoint Strategy</h3>
      <p>{{ recommendations().breakpointStrategy }}</p>
    </ion-label>
  </ion-item>

  <ion-item>
    <ion-icon name="speedometer-outline" slot="start" color="tertiary"></ion-icon>
    <ion-label class="ion-text-wrap">
      <h3>Speed Adjustment</h3>
      <p>{{ recommendations().speedAdjustment }}</p>
    </ion-label>
  </ion-item>

  <ion-item>
    <ion-icon name="bulb-outline" slot="start" color="warning"></ion-icon>
    <ion-label class="ion-text-wrap">
      <h3>General Tips</h3>
      <div class="tips-list">
        @for (tip of recommendations().generalTips; track tip) {
          <p class="tip-item">• {{ tip }}</p>
        }
      </div>
    </ion-label>
  </ion-item>
</ion-list>

<ion-grid class="ion-padding-horizontal">
  <ion-row><ion-col><ion-label>Forward Oil</ion-label></ion-col></ion-row>
  <ion-row class="header-row">
    <ion-col size="2">Boards</ion-col>
    <ion-col size="1.4">Load</ion-col>
    <ion-col size="1.4">Mics</ion-col>
    <ion-col size="1.6">Speed</ion-col>
    <ion-col size="1.6">Buffer</ion-col>
    <ion-col size="1.5">Tot. Oil</ion-col>
    <ion-col size="auto">Dist.</ion-col>
  </ion-row>

  @for (data of pattern().forwards_data; track $index) {
  <ion-row class="data-row">
    <ion-col size="2">{{ data.start }}-{{ data.stop }}</ion-col>
    <ion-col size="1.4">{{ data.load }}</ion-col>
    <ion-col size="1.4">{{ data.mics }}</ion-col>
    <ion-col size="1.6">{{ data.speed }}</ion-col>
    <ion-col size="1.6">{{ data.buf }}</ion-col>
    <ion-col size="1.5">{{ data.total_oil }}</ion-col>
    <ion-col size="auto">{{ data.distance_start }}-{{ data.distance_end }}</ion-col>
  </ion-row>
  }
</ion-grid>

<ion-grid class="ion-padding-horizontal ion-margin-bottom">
  <ion-row><ion-col><ion-label>Reverse Oil</ion-label></ion-col></ion-row>
  <ion-row class="header-row">
    <ion-col size="2">Boards</ion-col>
    <ion-col size="1.4">Load</ion-col>
    <ion-col size="1.4">Mics</ion-col>
    <ion-col size="1.6">Speed</ion-col>
    <ion-col size="1.6">Buffer</ion-col>
    <ion-col size="1.5">Tot. Oil</ion-col>
    <ion-col size="auto">Dist.</ion-col>
  </ion-row>

  @for (data of pattern().reverse_data; track $index) {
  <ion-row class="data-row">
    <ion-col size="2">{{ data.start }}-{{ data.stop }}</ion-col>
    <ion-col size="1.4">{{ data.load }}</ion-col>
    <ion-col size="1.4">{{ data.mics }}</ion-col>
    <ion-col size="1.6">{{ data.speed }}</ion-col>
    <ion-col size="1.6">{{ data.buf }}</ion-col>
    <ion-col size="1.5">{{ data.total_oil }}</ion-col>
    <ion-col size="auto">{{ data.distance_start }}-{{ data.distance_end }}</ion-col>
  </ion-row>
  }
</ion-grid>